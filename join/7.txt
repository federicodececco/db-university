SELECT students.id, students.name,students.surname, COUNT(exam_student.student_id) AS trials, MAX(exam_student.vote) AS result,courses.name
FROM students
JOIN exam_student
ON students.id=exam_student.student_id
JOIN exams
ON exam_student.exam_id=exams.id
JOIN courses
ON courses.id=exams.course_id
GROUP BY students.id, students.name,students.surname,courses.name
--------------------------------------------------
SELECT students.id, students.name,students.surname, COUNT(exam_student.student_id) AS trials, MAX(exam_student.vote) AS result,courses.name
FROM students
JOIN exam_student
ON students.id=exam_student.student_id
JOIN exams
ON exam_student.exam_id=exams.id
JOIN courses
ON courses.id=exams.course_id
GROUP BY students.id, students.name,students.surname,courses.name
HAVING MIN(exam_student.vote)>=18


